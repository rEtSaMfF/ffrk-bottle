!function(e){"use strict";var t={sortOrder:"bs.table.sortOrder",sortName:"bs.table.sortName",pageNumber:"bs.table.pageNumber",pageList:"bs.table.pageList",columns:"bs.table.columns",searchText:"bs.table.searchText"},o=function(){return navigator.cookieEnabled?!0:!1},a=function(e,t,a,s,n,i){if(e.options.stateSave&&o()&&""!==e.options.stateSaveIdTable){var p=e.options.stateSaveIdTable,c=e.options.stateSaveExpire;return t=p+"."+t,!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t)?!1:(document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(a)+r(c)+(n?"; domain="+n:"")+(s?"; path="+s:"")+(i?"; secure":""),!0)}},s=function(e,t){return t=e+"."+t,t?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},n=function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},i=function(e,t,o,a){return t=e+"."+t,n(t)?(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:"")+(o?"; path="+o:""),!0):!1},r=function(e){var t=e.replace(/[0-9]/,"");switch(e=e.replace(/[A-Za-z]/,""),t.toLowerCase()){case"s":e=+e;break;case"mi":e=60*e;break;case"h":e=60*e*60;break;case"d":e=24*e*60*60;break;case"m":e=30*e*24*60*60;break;case"y":e=365*e*30*24*60*60;break;default:e=void 0}return void 0===e?"":"; max-age="+e};e.extend(e.fn.bootstrapTable.defaults,{stateSave:!1,stateSaveExpire:"2h",stateSaveIdTable:""}),e.fn.bootstrapTable.methods.push("deleteCookie");var p=e.fn.bootstrapTable.Constructor,c=p.prototype.initTable,l=p.prototype.onSort,u=p.prototype.onPageNumber,h=p.prototype.onPageListChange,b=p.prototype.toggleColumn,m=p.prototype.onSearch;p.prototype.initTable=function(){c.apply(this,Array.prototype.slice.apply(arguments)),this.initStateSave()},p.prototype.initStateSave=function(){if(this.options.stateSave&&o()&&""!==this.options.stateSaveIdTable){var a=s(this.options.stateSaveIdTable,t.sortOrder),n=s(this.options.stateSaveIdTable,t.sortName),i=s(this.options.stateSaveIdTable,t.pageNumber),r=s(this.options.stateSaveIdTable,t.pageList),p=JSON.parse(s(this.options.stateSaveIdTable,t.columns)),c=s(this.options.stateSaveIdTable,t.searchText);a&&(this.options.sortOrder=a,this.options.sortName=n),i&&(this.options.pageNumber=+i),r&&(this.options.pageSize=r===this.options.formatAllRows()?r:+r),p&&e.each(this.options.columns,function(e,t){t.visible=-1!==p.indexOf(e)}),c&&(this.options.searchText=c)}},p.prototype.onSort=function(){l.apply(this,Array.prototype.slice.apply(arguments)),a(this,t.sortOrder,this.options.sortOrder),a(this,t.sortName,this.options.sortName)},p.prototype.onPageNumber=function(){u.apply(this,Array.prototype.slice.apply(arguments)),a(this,t.pageNumber,this.options.pageNumber)},p.prototype.onPageListChange=function(){h.apply(this,Array.prototype.slice.apply(arguments)),a(this,t.pageList,this.options.pageSize)},p.prototype.toggleColumn=function(){b.apply(this,Array.prototype.slice.apply(arguments));var o=[];e.each(this.options.columns,function(e){this.visible&&o.push(e)}),a(this,t.columns,JSON.stringify(o))},p.prototype.onSearch=function(){m.apply(this,Array.prototype.slice.apply(arguments)),a(this,t.searchText,this.searchText)},p.prototype.deleteCookie=function(e){""!==e&&o()&&i(t[e])}}(jQuery);
